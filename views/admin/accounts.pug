extends ../base/main.pug

block content
    .container
        table.table.table-striped.table-bordered.table-responsive-sm
            tr.header
                th Name
                th ACN
                th Current
                th Total
                th Updated
            if accounts.length != 0
                each n in accounts
                    tr
                        td=n.name
                        td=n.acn
                        td
                            h5=n.current+' Taka'
                        td=n.total+' Taka'
                        td=n.lastUpdated.toDateString()
                - class Accounts extends Array { sum(key) {return this.reduce((a, b) => a + (b[key] || 0), 0);}}
                - const accountsTotalCurrent = new Accounts(...accounts);
                
                tr.header
                    td(colspan='5')
                        h3=`Total ${accountsTotalCurrent.sum('current')} Taka`
            else
                tr
                    td(colspan='5') No accounts yet